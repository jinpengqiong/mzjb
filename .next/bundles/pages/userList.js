
          window.__NEXT_REGISTER_PAGE('/userList', function() {
            var comp = module.exports=webpackJsonp([11],{865:function(e,t,n){e.exports=n(866)},866:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(12),l=a(r),u=n(1),o=a(u),i=n(2),s=a(i),d=n(6),c=a(d),f=n(3),h=a(f),p=n(0),m=a(p),g=n(61),k=a(g),v=n(867),y=a(v),I=n(14),_=n(62),S=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=(0,_.initStore)(e.isServer),n}return(0,h.default)(t,e),(0,c.default)(t,null,[{key:"getInitialProps",value:function(e){var t=e.req,n=!!t;(0,_.initStore)(n);return{isServer:n}}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("accessToken")&&null!==localStorage.getItem("accessToken")||Router.push("/login")}},{key:"render",value:function(){return m.default.createElement(I.Provider,{store:this.store},m.default.createElement(k.default,null,m.default.createElement(y.default,null)))}}]),t}(m.default.Component);t.default=S},867:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(12),o=a(u),i=n(1),s=a(i),d=n(6),c=a(d),f=n(2),h=a(f),p=n(3),m=a(p),g=n(15),k=n(22),v=a(k),y=n(23),I=function(e){function t(e){(0,s.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onChange=function(e){n.queryUserData(e)},n.state={data:null,columns:[{title:"ID",dataIndex:"id",key:"id"},{title:"用户名",dataIndex:"nickname",key:"nickname"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"用户权限",dataIndex:"role",key:"role"},{title:"Action",key:"action",render:function(e,t){return l.default.createElement("span",null,l.default.createElement(g.Popconfirm,{title:"确定要授权该用户开店吗?",onConfirm:function(){n.confirm(t.id)},onCancel:n.cancel,okText:"Yes",cancelText:"No"},l.default.createElement("a",{href:"#"},"授权开店")))}}]},n}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.queryUserData(1)}},{key:"queryUserData",value:function(e){var t=this;new y.GraphQLClient(v.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).request("\n    query ($page: Int, $pageSize: Int) {\n        allUsers(page:$page,pageSize:$pageSize){\n            pageNumber\n            totalEntries\n            totalPages\n            entries{\n                id\n                nickname\n                phone\n                role\n            }\n        }\n    }\n",{page:e,pageSize:10}).then(function(e){e.allUsers.entries.map(function(e){e.key=e.id}),console.log("res",e),t.setState({data:e.allUsers})})}},{key:"grantUser",value:function(e){var t=this;new y.GraphQLClient(v.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).request("\n    mutation ($userId: Int!) {\n        authShopBiz(userId: $userId){\n            id\n            nickname\n            phone\n            role\n        }\n    }\n",{userId:e}).then(function(e){console.log("res",e),g.message.success("授权成功！"),t.queryUserData(1)})}},{key:"confirm",value:function(e){this.grantUser(parseInt(e))}},{key:"cancel",value:function(){}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(g.Table,{bordered:!0,dataSource:this.state.data?this.state.data.entries:null,columns:this.state.columns,pagination:!1}),this.state.data&&0!==this.state.data.totalEntries&&l.default.createElement(g.Pagination,{defaultCurrent:1,onChange:this.onChange,total:this.state.data?this.state.data.totalEntries:1,style:{float:"right",marginTop:"10px"}}))}}]),t}(l.default.Component);t.default=I}},[865]);
            return { page: comp.default }
          })
        