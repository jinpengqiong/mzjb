
          window.__NEXT_REGISTER_PAGE('/shops', function() {
            var comp = module.exports=webpackJsonp([3],{203:function(e,t,n){e.exports={default:n(204),__esModule:!0}},204:function(e,t,n){var o=n(20),r=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},491:function(e,t,n){"use strict";var o=n(492),r=n(858),a="function"==typeof Symbol&&"symbol"==typeof Symbol(),i=Object.prototype.toString,l=function(e){return"function"==typeof e&&"[object Function]"===i.call(e)},s=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,o){(!(t in e)||l(o)&&o())&&(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},i=o(t);a&&(i=i.concat(Object.getOwnPropertySymbols(t))),r(i,function(o){u(e,o,t[o],n[o])})};c.supportsDescriptors=!!s,e.exports=c},492:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Array.prototype.slice,i=n(857),l=Object.prototype.propertyIsEnumerable,s=!l.call({toString:null},"toString"),u=l.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}},y=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===r.call(e),a=i(e),l=t&&"[object String]"===r.call(e),f=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(l&&e.length>0&&!o.call(e,0))for(var d=0;d<e.length;++d)f.push(String(d));if(a&&e.length>0)for(var y=0;y<e.length;++y)f.push(String(y));else for(var m in e)p&&"prototype"===m||!o.call(e,m)||f.push(String(m));if(s)for(var g=h(e),b=0;b<c.length;++b)g&&"constructor"===c[b]||!o.call(e,c[b])||f.push(c[b]);return f};y.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(i(t)?a.call(t):t)}}}else Object.keys=y;return Object.keys||y},e.exports=y},493:function(e,t,n){"use strict";var o=n(492),r=n(494),a=function(e){return void 0!==e&&null!==e},i=n(860)(),l=Object,s=r.call(Function.call,Array.prototype.push),u=r.call(Function.call,Object.prototype.propertyIsEnumerable),c=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!a(e))throw new TypeError("target must be an object");var n,r,f,p,d,h,y,m=l(e);for(n=1;n<arguments.length;++n){r=l(arguments[n]),p=o(r);var g=i&&(Object.getOwnPropertySymbols||c);if(g)for(d=g(r),f=0;f<d.length;++f)y=d[f],u(r,y)&&s(p,y);for(f=0;f<p.length;++f)y=p[f],h=r[y],u(r,y)&&(m[y]=h)}return m}},494:function(e,t,n){"use strict";var o=n(859);e.exports=Function.prototype.bind||o},495:function(e,t,n){"use strict";var o=n(493),r=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},o=0;o<t.length;++o)n[t[o]]=t[o];var r=Object.assign({},n),a="";for(var i in r)a+=i;return e!==a},a=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1};e.exports=function(){return Object.assign?r()?o:a()?o:Object.assign:o}},852:function(e,t,n){e.exports=n(853)},853:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(12),l=o(i),s=n(1),u=o(s),c=n(2),f=o(c),p=n(6),d=o(p),h=n(3),y=o(h),m=n(854),g=(o(m),n(61)),b=o(g),v=n(864),w=o(v),S=n(14),O=n(62),j=n(26),k=o(j),E=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=(0,O.initStore)(e.isServer),n}return(0,y.default)(t,e),(0,d.default)(t,null,[{key:"getInitialProps",value:function(e){var t=e.req,n=!!t;(0,O.initStore)(n);return{isServer:n}}}]),(0,d.default)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("accessToken")&&null!==localStorage.getItem("accessToken")||k.default.push("/login")}},{key:"render",value:function(){return a.default.createElement(S.Provider,{store:this.store},a.default.createElement(b.default,null,a.default.createElement(w.default,null)))}}]),t}(a.default.Component);t.default=E},854:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,v.parse)(e,!1,!0),n=(0,v.parse)((0,I.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),i=o(a),l=n(203),s=o(l),u=n(12),c=o(u),f=n(1),p=o(f),d=n(6),h=o(d),y=n(2),m=o(y),g=n(3),b=o(g),v=n(309),w=n(0),S=o(w),O=n(5),j=o(O),k=n(855),E=o(k),_=n(26),x=o(_),I=n(81),C=function(e){function t(e){var n;(0,p.default)(this,t);for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var i=(0,m.default)(this,(n=t.__proto__||(0,c.default)(t)).call.apply(n,[this,e].concat(r)));return i.linkClicked=i.linkClicked.bind(i),i.formatUrls(e),i}return(0,b.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.formatUrls(e)}},{key:"linkClicked",value:function(e){var t=this;if("A"!==e.currentTarget.nodeName||!(e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var n=this.props.shallow,o=this.href,a=this.as;if(r(o)){var i=window.location.pathname;o=(0,v.resolve)(i,o),a=a?(0,v.resolve)(i,a):o,e.preventDefault();var l=this.props.scroll;null==l&&(l=a.indexOf("#")<0);var s=this.props.replace,u=s?"replace":"push";x.default[u](o,a,{shallow:n}).then(function(e){e&&l&&window.scrollTo(0,0)}).catch(function(e){t.props.onError&&t.props.onError(e)})}}}},{key:"prefetch",value:function(){if(this.props.prefetch&&"undefined"!=typeof window){var e=window.location.pathname,t=(0,v.resolve)(e,this.href);x.default.prefetch(t)}}},{key:"componentDidMount",value:function(){this.prefetch()}},{key:"componentDidUpdate",value:function(e){(0,s.default)(this.props.href)!==(0,s.default)(e.href)&&this.prefetch()}},{key:"formatUrls",value:function(e){this.href=e.href&&"object"===(0,i.default)(e.href)?(0,v.format)(e.href):e.href,this.as=e.as&&"object"===(0,i.default)(e.as)?(0,v.format)(e.as):e.as}},{key:"render",value:function(){var e=this.props.children,t=this.href,n=this.as;"string"==typeof e&&(e=S.default.createElement("a",null,e));var o=w.Children.only(e),r={onClick:this.linkClicked};return!this.props.passHref&&("a"!==o.type||"href"in o.props)||(r.href=n||t),r.href&&"undefined"!=typeof __NEXT_DATA__&&__NEXT_DATA__.nextExport&&(r.href=(0,_._rewriteUrlForNextExport)(r.href)),S.default.cloneElement(o,r)}}]),t}(w.Component);C.propTypes=(0,E.default)({href:j.default.oneOfType([j.default.string,j.default.object]).isRequired,as:j.default.oneOfType([j.default.string,j.default.object]),prefetch:j.default.bool,replace:j.default.bool,shallow:j.default.bool,passHref:j.default.bool,scroll:j.default.bool,children:j.default.oneOfType([j.default.element,function(e,t){return"string"==typeof e[t]&&$("Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>"),null}]).isRequired}),t.default=C;var $=(0,I.execOnce)(I.warn)},855:function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,u.default)(e,r({},h,y))}function i(e){return e&&e[h]===y}function l(e){if(!(0,d.default)(e))throw new TypeError("given propTypes must be an object");if((0,f.default)(e,h)&&!i(e[h]))throw new TypeError("Against all odds, you created a propType for a prop that uses both the zero-width space and our custom string - which, sadly, conflicts with `prop-types-exact`");return(0,u.default)({},e,r({},h,a(function(){function t(t,n,o){var r=Object.keys(t).filter(function(t){return!(0,f.default)(e,t)});return r.length>0?new TypeError(String(o)+": unknown props found: "+String(r.join(", "))):null}return t}())))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var s=n(856),u=o(s),c=n(862),f=o(c),p=n(863),d=o(p),h="prop-types-exact: ​",y={};e.exports=t.default},856:function(e,t,n){"use strict";var o=n(491),r=n(493),a=n(495),i=n(861),l=a();o(l,{getPolyfill:a,implementation:r,shim:i}),e.exports=l},857:function(e,t,n){"use strict";var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),n}},858:function(e,t){var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString;e.exports=function(e,t,r){if("[object Function]"!==o.call(t))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var i=0;i<a;i++)t.call(r,e[i],i,e);else for(var l in e)n.call(e,l)&&t.call(r,e[l],l,e)}},859:function(e,t,n){"use strict";var o=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,a=o.call(arguments,1),i=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},l=Math.max(0,t.length-a.length),s=[],u=0;u<l;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},860:function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;e[t]=42;for(t in e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},861:function(e,t,n){"use strict";var o=n(491),r=n(495);e.exports=function(){var e=r();return o(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},862:function(e,t,n){var o=n(494);e.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},863:function(e,t){function n(e){return e&&"object"===(void 0===e?"undefined":o(e))&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n,e.exports=t.default},864:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=n(74),l=o(i),s=n(79),u=o(s),c=n(12),f=o(c),p=n(1),d=o(p),h=n(6),y=o(h),m=n(2),g=o(m),b=n(3),v=o(b),w=n(0),S=o(w),O=n(26),j=o(O),k=n(15),E=n(22),_=o(E),x=n(23),I=n(14),C=k.Card.Meta,$=(k.Form.Item,k.Modal.confirm),T=k.Radio.Group,D="\n      mutation ($desc: String!, $name: String!){\n        createShop(desc:$desc,name:$name){\n          desc\n          id\n          name\n          owner\n        }\n      }\n      ",P="\n      mutation ($id: Int!){\n        deleteShop(id: $id){\n          desc\n          id\n          name\n          owner\n        }\n      }\n      ",M="\n  query($shopId: Int!) {\n    bindableRooms(shopId:$shopId){\n      bind{\n        desc\n        id\n        name\n        isBind\n      }\n      entries{\n        desc\n        id\n        name\n        isBind\n      }\n    }\n  }\n  ",R="\n  mutation ($id: Int!, $room: Int!){\n    bindRoom(id:$id, room: $room){\n            room\n            id\n            name\n          }\n  }\n  ",A=(r=(0,I.inject)("store"))(a=(0,I.observer)(a=function(e){function t(e){(0,d.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.onChangeShopName=function(e){n.setState({newShopName:e.target.value})},n.onChangeShopDesc=function(e){n.setState({newShopDesc:e.target.value})},n.addShops=function(){n.setState({modalVisible:!0})},n.handleModalOk=function(){if(n.state.newShopDesc&&n.state.newShopName)if(n.state.data.length<5){var e=new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}});e.request(D,{desc:n.state.newShopDesc,name:n.state.newShopName}).then(function(e){console.log("abcde",e),n.setState({modalVisible:!1,newShopDesc:"",newShopName:""}),n.getData()})}else n.error("一个账号最多只能创建5个店铺哦！"),n.setState({modalVisible:!1,newShopDesc:"",newShopName:""});else n.error("店铺名或描述不能为空哦！")},n.showConfirm=function(e){var t=new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}),o=n;$({title:"确定要删除此店铺吗?",onOk:function(){t.request(P,{id:e}).then(function(e){e.errors?k.message.error("删除店铺失败！"):(console.log("res",e),o.getData(),k.message.success("删除店铺成功！"))})},onCancel:function(){}})},n.hideModal=function(){n.setState({modalVisible:!1,newShopDesc:"",newShopName:""})},n.error=function(e){k.message.error(e)},n.addStaff=function(){new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}})},n.showModal=function(e){var t=new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}),o=parseFloat(e);n.setState({modalVisible1:!0,shopID:o}),t.request(M,{shopId:o}).then(function(e){console.log("res",e),n.props.store.getBindData(e.bindableRooms)})},n.handleOk1=function(e){console.log(e);var t=new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}),o=parseInt(n.state.shopID),r=parseInt(n.state.RadioValue);t.request(R,{id:o,room:r}).then(function(e){console.log("res",e),k.message.success("绑定成功！"),n.setState({modalVisible1:!1,RadioValue:null})})},n.handleCancel=function(e){console.log(e),n.setState({modalVisible1:!1})},n.onRadioChange=function(e){console.log("radio checked",e.target.value),n.setState({RadioValue:e.target.value})},n.state={newShopName:"",newShopDesc:"",id:null,data:[],modalVisible:!1,modalVisible1:!1,RadioValue:null,shopID:null},n}return(0,v.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("accessToken")&&null!==localStorage.getItem("accessToken")?this.getData():j.default.push("/login")}},{key:"getData",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(l.default.mark(function e(){var t,n,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,pageSize:5},n=new x.GraphQLClient(_.default,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}),e.next=4,n.request("\n      query ($page:Int, $pageSize: Int) {\n        myShops(page:$page,pageSize:$pageSize){\n          totalEntries\n          totalPages\n          pageNumber\n          pageSize\n          entries{\n            desc\n            id\n            name\n            owner\n          }\n        }\n      }\n      ",t);case 4:o=e.sent,console.log("res",o),this.setState({data:o.myShops.entries});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.state.data&&this.state.data.map(function(t){return S.default.createElement(k.Col,{span:4,key:t.id},S.default.createElement(k.Card,{cover:S.default.createElement("img",{alt:"example",src:"http://image.mzliaoba.com/pic/mzgg/4758068401/20180323/111.png"}),actions:[S.default.createElement(k.Tooltip,{title:"进入店铺"},S.default.createElement(k.Icon,{type:"shop",onClick:function(){j.default.push("/products?id="+t.id),e.props.store.getCurPagePath("店铺商品")}})),S.default.createElement(k.Tooltip,{title:"绑定直播间"},S.default.createElement(k.Icon,{type:"user-add",onClick:function(){e.showModal(t.id)}})),S.default.createElement(k.Tooltip,{title:"删除店铺"},S.default.createElement(k.Icon,{type:"delete",onClick:function(){e.showConfirm(parseInt(t.id))}}))]},S.default.createElement(C,{title:t.name,description:t.desc})))}),n=this.props.store.bindRoomData&&this.props.store.bindRoomData.entries.map(function(e){return S.default.createElement(k.Radio,{value:e.id,key:e.id},e.name)});return S.default.createElement("div",null,this.props.store.userRole&&-1!==this.props.store.userRole.indexOf("shop_biz")&&S.default.createElement(k.Affix,{offsetTop:8,target:function(){return document.getElementById("main-content-div")}},S.default.createElement(k.Button,{type:"primary",onClick:this.addShops},S.default.createElement(k.Icon,{type:"plus-circle-o"}),"新增店铺")),S.default.createElement(k.Modal,{title:"新增店铺",visible:this.state.modalVisible,onOk:this.handleModalOk,onCancel:this.hideModal,maskClosable:!1,width:550},S.default.createElement(k.Input,{placeholder:"请输入店铺名",prefix:S.default.createElement(k.Icon,{type:"shop",style:{color:"rgba(0,0,0,.25)"}}),value:this.state.newShopName,onChange:this.onChangeShopName}),S.default.createElement(k.Input,{placeholder:"请输入店铺描述",style:{marginTop:"13px"},prefix:S.default.createElement(k.Icon,{type:"idcard",style:{color:"rgba(0,0,0,.25)"}}),value:this.state.newShopDesc,onChange:this.onChangeShopDesc})),S.default.createElement(k.Modal,{title:"绑定直播间",visible:this.state.modalVisible1,onOk:this.handleOk1,onCancel:this.handleCancel,maskClosable:!1,width:550},"可绑定直播间：",S.default.createElement(T,{onChange:this.onRadioChange,value:this.state.RadioValue},this.props.store.bindRoomData&&0===this.props.store.bindRoomData.entries.length?"暂无可绑定直播间":n),S.default.createElement("p",null,"已绑定直播间：",this.props.store.bindRoomData&&this.props.store.bindRoomData.bind?this.props.store.bindRoomData.bind.name:null)),S.default.createElement(k.Row,{style:{marginTop:40},type:"flex",justify:"space-around"},0===t.length?"暂无创建店铺":t))}}]),t}(S.default.Component))||a)||a;t.default=A}},[852]);
            return { page: comp.default }
          })
        